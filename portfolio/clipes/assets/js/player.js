/*! Clipes 2014-01-20 */
function openPlayer(){document.getElementById("PlayerBackground").classList.add("opened"),updatePlayerSize()}function closePlayer(){-1!=document.getElementById("PlayerBackground").className.indexOf("opened")&&(document.getElementById("PlayerBackground").classList.remove("opened"),updatePlayerSize())}function togglePlayer(){-1==document.getElementById("PlayerBackground").className.indexOf("opened")?openPlayer():closePlayer()}function toggleVideo(){1==player.getPlayerState()?player.pauseVideo():player.playVideo()}function toggleFullScreen(){document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen?enterFullScreen():exitFullScreen()}function enterFullScreen(){document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen&&document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}function exitFullScreen(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}function updateFullScreenState(){document.fullScreenElement&&null!==document.fullScreenElement||document.mozFullScreen||document.webkitIsFullScreen?document.body.classList.add("fullscreen"):document.body.classList.remove("fullscreen")}function updatePlayerSize(){if(player){var width,height,proportion;width=player.b.defaults.width/280,height=player.b.defaults.height/156,proportion=height>=width?width:height,-1!=document.getElementById("PlayerBackground").className.indexOf("opened")?(width=document.body.offsetWidth+"px",height=document.getElementById("PlayerBackgroundSize").offsetHeight-document.getElementById("header").offsetHeight+"px"):(width=Math.round(player.b.defaults.width/proportion)+"px",height=Math.round(player.b.defaults.height/proportion)+"px"),document.getElementById("PlayerBackground").style.width=width,document.getElementById("PlayerBackground").style.height=height,player.setSize(width,height)}}function onYouTubeIframeAPIReady(){player=new YT.Player("ytplayer",{width:0,height:0,videoId:"",playerVars:{enablejsapi:1,version:3,wmode:"transparent",showinfo:0,border:0,controls:0,modestbranding:1,rel:1,egm:1,hd:1,iv_load_policy:3,cc_load_policy:0},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(){player.setPlaybackQuality("large")}function onPlayerStateChange(state){switch(state.data){case 1:player.interval=setInterval(playerInterval,1e3);break;case 2:clearInterval(player.interval);break;case 0:clearInterval(player.interval)}}function playerInterval(){document.querySelector("#PlayerBackground .progressbar .played").style.width=player.getCurrentTime()/player.getDuration()*100+"%",document.querySelector("#PlayerBackground .progressbar .loaded").style.width=100*player.getVideoLoadedFraction()+"%"}var player;updatePlayerSize(),window.onresize=updatePlayerSize,document.getElementById("ClosePlayer").onclick=function(){closePlayer(),exitFullScreen()},document.getElementById("PlayerBackground").ondblclick=toggleFullScreen,document.getElementById("PlayerBackground").onclick=function(e){-1!=e.target.className.indexOf("VideoLayer")&&(-1!=document.getElementById("PlayerBackground").className.indexOf("opened")?toggleVideo():(openPlayer(),player.playVideo()))},document.body.onkeyup=function(e){switch(e.keyCode){case 27:document.body.classList.remove("fullscreen"),closePlayer();break;case 32:if("input"==e.target.localName)break;toggleVideo()}},document.addEventListener("webkitfullscreenchange",updateFullScreenState),document.addEventListener("mozfullscreenchange",updateFullScreenState),document.addEventListener("fullscreenchange",updateFullScreenState),document.querySelector("#PlayerBackground .progressbar").onclick=function(e){document.querySelector("#PlayerBackground .progressbar .played").style.width=e.layerX/e.target.offsetWidth*100+"%",player.seekTo(e.layerX/e.target.offsetWidth*player.getDuration(),!0)};